{"ast":null,"code":"var _jsxFileName = \"D:\\\\test\\\\SPP\\\\SPP\\\\app\\\\client\\\\src\\\\pages\\\\Auth.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport { Context } from '../index';\nimport { Form, Row, NavLink, Button, Container, Card } from 'react-bootstrap';\nimport { useLocation } from 'react-router-dom';\nimport { USER_ROUTE } from '../utils/consts';\nimport { login, register } from '../api/borrowersApi';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst isCompany = window.localStorage.getItem('isCompany') !== null;\n\nconst Auth = () => {\n  _s();\n\n  const isLogin = useLocation().pathname === USER_ROUTE + '/login';\n  let history = useHistory();\n  let {\n    user\n  } = useContext(Context);\n  let [email, setEmail] = useState('');\n  let [password, setPassword] = useState('');\n  let [name, setName] = useState('');\n  let [surname, setSurname] = useState('');\n  let [seria, setSeria] = useState('');\n  let [num, setNum] = useState('');\n  let [account, setAccount] = useState('');\n  let [city, setCity] = useState('');\n  let [street, setStreet] = useState('');\n  let [building, setBuilding] = useState('');\n  let [company, setCompany] = useState('');\n  let [id, setId] = useState('');\n\n  const reg = async () => {\n    try {\n      if (email == '' || password == '' || name == '' || city == '' || street == '' || surname == '' || seria == '' || num == '' || account == '' || building == '') {\n        alert(\"write down all fields\");\n      } else {\n        let type = company != '' || id != '' ? {\n          company,\n          id\n        } : null;\n        let data = await register({\n          email,\n          password,\n          name,\n          city,\n          street,\n          surname,\n          account,\n          building,\n          seria,\n          num,\n          type\n        });\n        user.setUser(data.user);\n        user.setAuth(true, data.user.role);\n        user.setId(data.id);\n        history.push(user.path + 'types');\n      }\n    } catch (e) {\n      alert(e);\n    }\n  };\n\n  const log = async () => {\n    try {\n      if (email == '' || password == '') {\n        alert(\"write down all fields\");\n      } else {\n        let data = await login(email, password);\n        user.setUser(data);\n        user.setAuth(true, data.user.role, data.id);\n        user.setId(data.id);\n        console.log(user.path);\n        history.push(user.path + 'types');\n      }\n    } catch (e) {\n      alert(e);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"d-flex justify-content-center align-items-center\",\n    style: {\n      height: window.innerHeight - 54\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: 600,\n        backgroundColor: \"#f8f9fb\"\n      },\n      className: \"p-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: \"#505050\"\n        },\n        className: \"m-auto\",\n        children: isLogin ? 'Authorization' : 'Registration'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"d-flex flex-column\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"mt-3\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          placeholder: \"Enter email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"d-flex flex-column\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          className: \"mt-3\",\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Enter password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), !isLogin && /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-flex justify-content-between mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form, {\n            className: \"d-flex flex-column\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: 245\n              },\n              value: name,\n              onChange: e => setName(e.target.value),\n              placeholder: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            className: \"d-flex flex-column\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: 245\n              },\n              value: surname,\n              onChange: e => setSurname(e.target.value),\n              placeholder: \"Surname\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-flex justify-content-between mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form, {\n            className: \"d-flex flex-column\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: 100\n              },\n              value: seria,\n              onChange: e => setSeria(e.target.value),\n              placeholder: \"Seria\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            className: \"d-flex flex-column\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: 390\n              },\n              value: num,\n              onChange: e => setNum(e.target.value),\n              placeholder: \"Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-flex justify-content-between mt-3\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            className: \"d-flex flex-column\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: 502\n              },\n              value: account,\n              onChange: e => setAccount(e.target.value),\n              placeholder: \"Payment account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-flex justify-content-between mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form, {\n            className: \"d-flex flex-column\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: 138\n              },\n              value: city,\n              onChange: e => setCity(e.target.value),\n              placeholder: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            className: \"d-flex flex-column\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: 240\n              },\n              value: street,\n              onChange: e => setStreet(e.target.value),\n              placeholder: \"Street\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            className: \"d-flex flex-column\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: 100\n              },\n              value: building,\n              onChange: e => setBuilding(e.target.value),\n              placeholder: \"Building\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), !isCompany ? /*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-flex justify-content-between mt-3\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"ml-auto mr-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              defaultChecked: false,\n              onChange: () => {\n                window.localStorage.setItem('isCompany', true);\n                window.location.reload();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2\",\n              children: \"Are you a company?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(Row, {\n          className: \"d-flex justify-content-between mt-3\",\n          children: [window.localStorage.removeItem('isCompany'), /*#__PURE__*/_jsxDEV(Form, {\n            className: \"d-flex flex-column\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: 245\n              },\n              value: company,\n              onChange: e => setCompany(e.target.value),\n              placeholder: \"Company name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            className: \"d-flex flex-column\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: 245\n              },\n              value: id,\n              onChange: e => setId(e.target.value),\n              placeholder: \"Company registration id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"d-flex justify-content-between pr-5 pl-5\",\n        children: [!isLogin ? /*#__PURE__*/_jsxDEV(NavLink, {\n          className: \"ml-auto pt-4\",\n          style: {\n            color: \"#ff834d\"\n          },\n          href: USER_ROUTE + '/login',\n          children: \"Authorize\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(NavLink, {\n          className: \"ml-auto pt-4\",\n          style: {\n            color: \"#ff834d\"\n          },\n          href: USER_ROUTE + '/registrate',\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"mt-3 ml-auto mr-auto pr-4 pl-4\",\n          variant: \"outline-dark\",\n          onClick: isLogin ? log : reg,\n          children: isLogin ? 'Enter' : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Auth, \"liASrnY37ciDJ576awj7W/9uLQE=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["D:/test/SPP/SPP/app/client/src/pages/Auth.js"],"names":["React","useState","useContext","Context","Form","Row","NavLink","Button","Container","Card","useLocation","USER_ROUTE","login","register","useHistory","isCompany","window","localStorage","getItem","Auth","isLogin","pathname","history","user","email","setEmail","password","setPassword","name","setName","surname","setSurname","seria","setSeria","num","setNum","account","setAccount","city","setCity","street","setStreet","building","setBuilding","company","setCompany","id","setId","reg","alert","type","data","setUser","setAuth","role","push","path","e","log","console","height","innerHeight","width","backgroundColor","color","target","value","setItem","location","reload","removeItem"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react';\r\nimport { Context } from '../index';\r\nimport {Form, Row, NavLink, Button, Container, Card} from 'react-bootstrap'\r\nimport {useLocation} from 'react-router-dom'\r\nimport {USER_ROUTE} from '../utils/consts';\r\nimport {login, register} from '../api/borrowersApi'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nconst isCompany = window.localStorage.getItem('isCompany') !== null\r\n\r\nconst Auth = () => {\r\n    const isLogin = useLocation().pathname === USER_ROUTE + '/login'\r\n    let history = useHistory()\r\n    let {user} = useContext(Context)\r\n\r\n    let [email, setEmail] = useState('')\r\n    let [password, setPassword] = useState('')\r\n    let [name, setName] = useState('')\r\n    let [surname, setSurname] = useState('')\r\n    let [seria, setSeria] = useState('')\r\n    let [num, setNum] = useState('')\r\n    let [account, setAccount] = useState('')\r\n    let [city, setCity] = useState('')\r\n    let [street, setStreet] = useState('')\r\n    let [building, setBuilding] = useState('')\r\n    let [company, setCompany] = useState('')\r\n    let [id, setId] = useState('')\r\n\r\n    const reg = async () => {\r\n        try {\r\n            if(email == '' || password == '' || name == '' || city == '' || street == '' || surname == '' ||\r\n            seria == '' || num == '' || account == '' || building == '') {\r\n                alert(\"write down all fields\")\r\n            } else {\r\n                let type = (company != '' || id != '') ? {company, id} : null\r\n                let data = await register({email, password, name, city, street, surname, account, building, seria, \r\n                    num, type\r\n                })\r\n                user.setUser(data.user)\r\n                user.setAuth(true, data.user.role)\r\n                user.setId(data.id)\r\n                history.push(user.path + 'types')\r\n            }\r\n        } catch (e) {\r\n            alert(e)\r\n        }\r\n    }\r\n\r\n    const log = async () => {\r\n        try {\r\n            if(email == '' || password == ''){\r\n                alert(\"write down all fields\")\r\n            } else {\r\n                let data = await login(email, password)\r\n                user.setUser(data)\r\n                user.setAuth(true, data.user.role, data.id)\r\n                user.setId(data.id)\r\n                console.log(user.path)\r\n                history.push(user.path + 'types')\r\n            }\r\n        } catch (e) {\r\n            alert(e)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Container\r\n        className='d-flex justify-content-center align-items-center'\r\n        style={{height: window.innerHeight-54}}>\r\n            <Card style={{width: 600, backgroundColor: \"#f8f9fb\"}} className='p-5'>\r\n                <h2 style={{color: \"#505050\"}} className=\"m-auto\">{isLogin ? 'Authorization' : 'Registration'}</h2>\r\n                <Form className=\"d-flex flex-column\">\r\n                    <Form.Control\r\n                    className=\"mt-3\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder=\"Enter email\"/>\r\n                </Form>\r\n                <Form className=\"d-flex flex-column\">\r\n                    <Form.Control\r\n                    className=\"mt-3\"\r\n                    type=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"Enter password\"/>\r\n                </Form>\r\n                {!isLogin &&\r\n                    <Container>\r\n                    <Row className=\"d-flex justify-content-between mt-3\">\r\n                        <Form className=\"d-flex flex-column\">\r\n                            <Form.Control\r\n                            style={{width: 245}}\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"Name\"/>\r\n                        </Form>\r\n                        <Form className=\"d-flex flex-column\">\r\n                            <Form.Control\r\n                            style={{width: 245}}\r\n                            value={surname}\r\n                            onChange={(e) => setSurname(e.target.value)}\r\n                            placeholder=\"Surname\"/>\r\n                        </Form>\r\n                    </Row>\r\n                    <Row className=\"d-flex justify-content-between mt-3\">\r\n                        <Form className=\"d-flex flex-column\">\r\n                            <Form.Control\r\n                            style={{width: 100}}\r\n                            value={seria}\r\n                            onChange={(e) => setSeria(e.target.value)}\r\n                            placeholder=\"Seria\"/>\r\n                        </Form>\r\n                        <Form className=\"d-flex flex-column\">\r\n                            <Form.Control\r\n                            style={{width: 390}}\r\n                            value={num}\r\n                            onChange={(e) => setNum(e.target.value)}\r\n                            placeholder=\"Number\"/>\r\n                        </Form>\r\n                    </Row>\r\n                    <Row className=\"d-flex justify-content-between mt-3\">\r\n                        <Form className=\"d-flex flex-column\">\r\n                            <Form.Control\r\n                            style={{width: 502}}\r\n                            value={account}\r\n                            onChange={(e) => setAccount(e.target.value)}\r\n                            placeholder=\"Payment account\"/>\r\n                        </Form>\r\n                    </Row>\r\n                    <Row className=\"d-flex justify-content-between mt-3\">\r\n                        <Form className=\"d-flex flex-column\">\r\n                            <Form.Control\r\n                            style={{width: 138}}\r\n                            value={city}\r\n                            onChange={(e) => setCity(e.target.value)}\r\n                            placeholder=\"City\"/>\r\n                        </Form>\r\n                        <Form className=\"d-flex flex-column\">\r\n                            <Form.Control\r\n                            style={{width: 240}}\r\n                            value={street}\r\n                            onChange={(e) => setStreet(e.target.value)}\r\n                            placeholder=\"Street\"/>\r\n                        </Form>\r\n                        <Form className=\"d-flex flex-column\">\r\n                            <Form.Control\r\n                            style={{width: 100}}\r\n                            value={building}\r\n                            onChange={(e) => setBuilding(e.target.value)}\r\n                            placeholder=\"Building\"/>\r\n                        </Form>\r\n                    </Row>\r\n                    {!isCompany ?\r\n                    <Row className=\"d-flex justify-content-between mt-3\">\r\n                        <label className=\"ml-auto mr-auto\">\r\n                            <input\r\n                            type=\"checkbox\"\r\n                            defaultChecked={false}\r\n                            onChange={() => {\r\n                                window.localStorage.setItem('isCompany', true)\r\n                                window.location.reload()\r\n                            }}\r\n                            />\r\n                            <span className=\"ml-2\">Are you a company?</span>\r\n                        </label>\r\n                    </Row>\r\n                    :\r\n                    <Row className=\"d-flex justify-content-between mt-3\">\r\n                        {window.localStorage.removeItem('isCompany')}\r\n                        <Form className=\"d-flex flex-column\">\r\n                            <Form.Control\r\n                            style={{width: 245}}\r\n                            value={company}\r\n                            onChange={(e) => setCompany(e.target.value)}\r\n                            placeholder=\"Company name\"/>\r\n                        </Form>\r\n                        <Form className=\"d-flex flex-column\">\r\n                            <Form.Control\r\n                            style={{width: 245}}\r\n                            value={id}\r\n                            onChange={(e) => setId(e.target.value)}\r\n                            placeholder=\"Company registration id\"/>\r\n                        </Form>\r\n                    </Row>\r\n                    }\r\n                    </Container>\r\n                }\r\n                <Row className=\"d-flex justify-content-between pr-5 pl-5\">\r\n                    {!isLogin ? \r\n                        <NavLink className=\"ml-auto pt-4\" style={{color: \"#ff834d\"}} href={USER_ROUTE+'/login'}>\r\n                            Authorize\r\n                        </NavLink>\r\n                        :\r\n                        <NavLink className=\"ml-auto pt-4\" style={{color: \"#ff834d\"}} href={USER_ROUTE+'/registrate'}>\r\n                            Register\r\n                        </NavLink>\r\n                    }\r\n                    <Button className=\"mt-3 ml-auto mr-auto pr-4 pl-4\" variant={\"outline-dark\"}\r\n                    onClick={isLogin ? log : reg}\r\n                    >\r\n                        {isLogin ? 'Enter' : 'Register'}</Button>\r\n                </Row>\r\n            </Card>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}